<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aman Gangwar - Snake Game</title>
  <style>
    :root{
      --bg1: #0f172a;
      --card: #0b1220;
      --accent: #22c55e;
      --accent2: #06b6d4;
      --muted: #94a3b8;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: linear-gradient(135deg,#001219 0%, #001e2b 100%);
      color:#e6eef8;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      padding:20px;
    }

    .wrap{
      width:100%;
      max-width:980px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:18px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:18px;
    }

    @media (max-width:900px){
      .wrap{grid-template-columns:1fr; padding:12px;}
    }

    header.site-top{
      grid-column:1 / -1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:6px;
    }
    header .title{
      font-weight:700;
      font-size:18px;
      color:var(--accent);
    }
    header .sub{color:var(--muted); font-size:13px}

    .game-card{
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      border-radius:10px;
      padding:14px;
      display:flex;
      flex-direction:column;
      align-items:center;
    }

    #gameCanvas{
      background: linear-gradient(180deg, #031325, #05233a);
      border-radius:8px;
      width:100%;
      height:auto;
      max-width:640px;
      box-shadow: 0 8px 30px rgba(2,6,23,0.7), inset 0 2px 8px rgba(255,255,255,0.02);
    }

    .controls{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
    }

    button.control-btn{
      padding:10px 14px;
      border-radius:8px;
      border: none;
      background: linear-gradient(180deg, var(--accent), #16a34a);
      color:#04111a;
      font-weight:700;
      cursor:pointer;
      box-shadow: 0 6px 18px rgba(0,0,0,0.4);
    }
    button.ghost{
      background:transparent;
      border: 1px solid rgba(255,255,255,0.06);
      color:var(--muted);
      font-weight:600;
    }

    .side{
      padding:12px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      border-radius:10px;
      padding:12px;
      min-height:80px;
    }

    .score-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }
    .score{
      font-size:20px;
      font-weight:800;
      color:var(--accent);
      letter-spacing:1px;
    }
    .high{
      font-size:13px;
      color:var(--muted);
    }

    .instructions{color:var(--muted); font-size:13px; line-height:1.5}

    .touch-pad{
      display:grid;
      grid-template-columns: 60px 60px 60px;
      gap:8px;
      justify-content:center;
      align-items:center;
      margin-top:6px;
    }
    .pad-btn{
      width:60px;height:60px;border-radius:8px;border:none;background:rgba(255,255,255,0.03);color:var(--muted);font-weight:700;
    }

    footer.note{grid-column:1 / -1;color:var(--muted); text-align:center; font-size:12px; margin-top:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <header class="site-top">
      <div>
        <div class="title">üêç Aman Gangwar - Snake Game</div>
        <div class="sub">Arrow keys / WASD ya niche ke touch buttons se khelo</div>
      </div>
      <div>
        <button id="btnStart" class="control-btn">Start / Resume</button>
        <button id="btnRestart" class="control-btn ghost">Restart</button>
      </div>
    </header>

    <div class="game-card">
      <canvas id="gameCanvas" width="640" height="480"></canvas>
      <div class="controls">
        <button id="btnLeft" class="control-btn ghost">Left</button>
        <button id="btnUp" class="control-btn ghost">Up</button>
        <button id="btnRight" class="control-btn ghost">Right</button>
        <button id="btnDown" class="control-btn ghost">Down</button>
      </div>
      <div style="margin-top:8px;color:var(--muted);font-size:13px">Tip: Khaana khaane se snake lamba hota hai. Boundary se takraane par game over.</div>
    </div>

    <aside class="side">
      <div class="card">
        <div class="score-row">
          <div>Score</div>
          <div class="score" id="score">0</div>
        </div>
        <div class="high" id="highscore">High Score: 0</div>
      </div>

      <div class="card instructions">
        <strong>Controls:</strong>
        <ul>
          <li>Keyboard: ‚Üê ‚Üë ‚Üí ‚Üì  (ya) WASD</li>
          <li>Mobile: Use the touch buttons</li>
          <li>Start/Resume se game chalaye, Restart se naya game shuru karein</li>
        </ul>
      </div>

      <div class="card">
        <strong>Game Info:</strong>
        <p style="margin:6px 0;color:var(--muted);font-size:13px">Is game me aap snake ko control kar ke jitna zyada khaana khayenge utna score badega. Boundary se takraane par game over hota hai.</p>
      </div>
    </aside>

    <footer class="note">Made with ‚ù§Ô∏è for Aman Gangwar ‚Ä¢ Save & upload this <code>index.html</code> to Netlify</footer>
  </div>

  <script>
    // Simple Snake Game - single-file
    (function(){
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');

      // Scale settings
      const COLS = 32; // grid columns
      const ROWS = 24; // grid rows
      // adjust canvas internal size to match grid for crispness
      const CELL = Math.floor(Math.min(canvas.width / COLS, canvas.height / ROWS));
      canvas.width = CELL * COLS;
      canvas.height = CELL * ROWS;

      // UI elements
      const scoreEl = document.getElementById('score');
      const highEl = document.getElementById('highscore');
      const btnStart = document.getElementById('btnStart');
      const btnRestart = document.getElementById('btnRestart');
      const btnLeft = document.getElementById('btnLeft');
      const btnRight = document.getElementById('btnRight');
      const btnUp = document.getElementById('btnUp');
      const btnDown = document.getElementById('btnDown');

      // Game state
      let snake = [];
      let dir = {x:1,y:0}; // starting moving right
      let nextDir = {...dir};
      let food = null;
      let score = 0;
      let highScore = parseInt(localStorage.getItem('snake_high_' + location.hostname) || '0', 10);
      highEl.textContent = 'High Score: ' + highScore;
      let running = false;
      let tickInterval = 100; // ms per move (speed)
      let tickTimer = null;

      // Colors
      const bgGradient = ctx.createLinearGradient(0,0,0,canvas.height);
      bgGradient.addColorStop(0, '#031325');
      bgGradient.addColorStop(1, '#05233a');

      function resetGame(){
        snake = [];
        // Initialize snake in center
        const startX = Math.floor(COLS/2);
        const startY = Math.floor(ROWS/2);
        for(let i=0;i<4;i++){
          snake.push({x: startX - i, y: startY});
        }
        dir = {x:1,y:0};
        nextDir = {...dir};
        placeFood();
        score = 0;
        scoreEl.textContent = score;
      }

      function placeFood(){
        while(true){
          const fx = Math.floor(Math.random()*COLS);
          const fy = Math.floor(Math.random()*ROWS);
          // avoid placing on snake
          if(!snake.some(s=>s.x===fx && s.y===fy)){
            food = {x:fx,y:fy};
            break;
          }
        }
      }

      function drawCell(x,y, color){
        ctx.fillStyle = color;
        ctx.fillRect(x*CELL + 1, y*CELL + 1, CELL-2, CELL-2);
      }

      function gameOver(){
        running = false;
        clearInterval(tickTimer);
        // update highscore
        if(score > highScore){
          highScore = score;
          localStorage.setItem('snake_high_' + location.hostname, highScore);
          highEl.textContent = 'High Score: ' + highScore;
        }
        // show overlay text
        ctx.fillStyle = 'rgba(0,0,0,0.45)';
        ctx.fillRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle = '#fff';
        ctx.font = 'bold 28px sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('Game Over', canvas.width/2, canvas.height/2 - 10);
        ctx.font = '16px sans-serif';
        ctx.fillText('Score: ' + score + ' ‚Ä¢ Click Restart', canvas.width/2, canvas.height/2 + 20);
      }

      function step(){
        // move
        dir = nextDir;
        const head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
        // check collisions with walls
        if(head.x < 0 || head.x >= COLS || head.y < 0 || head.y >= ROWS){
          return gameOver();
        }
        // check collision with self
        if(snake.some(s => s.x === head.x && s.y === head.y)){
          return gameOver();
        }
        snake.unshift(head);

        // check food
        if(food && head.x === food.x && head.y === food.y){
          score += 10;
          scoreEl.textContent = score;
          placeFood();
          // speed up slightly
          if(tickInterval > 45){ tickInterval -= 2; restartTimer(); }
        } else {
          snake.pop();
        }
        render();
      }

      function restartTimer(){
        if(tickTimer) clearInterval(tickTimer);
        tickTimer = setInterval(step, tickInterval);
      }

      function render(){
        // background
        ctx.fillStyle = bgGradient;
        ctx.fillRect(0,0, canvas.width, canvas.height);

        // draw grid faint (optional)
        // draw snake
        for(let i=0;i<snake.length;i++){
          const s = snake[i];
          const shade = i===0 ? '#9be89b' : (i%2===0 ? '#22c55e' : '#16a34a');
          drawCell(s.x, s.y, shade);
        }

        // draw food
        if(food){
          // small glow
          const cx = food.x*CELL + CELL/2;
          const cy = food.y*CELL + CELL/2;
          ctx.beginPath();
          ctx.fillStyle = '#ffcc66';
          ctx.arc(cx, cy, CELL*0.4, 0, Math.PI*2);
          ctx.fill();
          // eye highlight
          ctx.fillStyle = '#fff';
          ctx.fillRect(food.x*CELL + CELL*0.55, food.y*CELL + CELL*0.25, CELL*0.08, CELL*0.08);
        }
      }

      // Input handling
      window.addEventListener('keydown', e=>{
        const k = e.key.toLowerCase();
        if(['arrowleft','a'].includes(k) || k==='arrowleft' || e.key==='a'){ setDir(-1,0); e.preventDefault();}
        if(['arrowup','w'].includes(k) || k==='arrowup' || e.key==='w'){ setDir(0,-1); e.preventDefault();}
        if(['arrowright','d'].includes(k) || k==='arrowright' || e.key==='d'){ setDir(1,0); e.preventDefault();}
        if(['arrowdown','s'].includes(k) || k==='arrowdown' || e.key==='s'){ setDir(0,1); e.preventDefault();}
      });

      function setDir(x,y){
        // prevent reverse into self
        if(dir.x === -x && dir.y === -y) return;
        nextDir = {x,y};
      }

      // Touch buttons
      btnLeft.addEventListener('click', ()=>setDir(-1,0));
      btnRight.addEventListener('click', ()=>setDir(1,0));
      btnUp.addEventListener('click', ()=>setDir(0,-1));
      btnDown.addEventListener('click', ()=>setDir(0,1));

      // Start / Restart
      btnStart.addEventListener('click', ()=>{
        if(!running){
          running = true;
          restartTimer();
        }
      });

      btnRestart.addEventListener('click', ()=>{
        clearInterval(tickTimer);
        tickInterval = 100;
        resetGame();
        running = true;
        restartTimer();
      });

      // Touch swipe support (basic)
      let touchStart = null;
      canvas.addEventListener('touchstart', (e)=>{
        touchStart = e.touches[0];
      }, {passive:true});
      canvas.addEventListener('touchend', (e)=>{
        if(!touchStart) return;
        const touchEnd = e.changedTouches[0];
        const dx = touchEnd.clientX - touchStart.clientX;
        const dy = touchEnd.clientY - touchStart.clientY;
        if(Math.abs(dx) > Math.abs(dy)){
          if(dx > 20) setDir(1,0); else if(dx < -20) setDir(-1,0);
        } else {
          if(dy > 20) setDir(0,1); else if(dy < -20) setDir(0,-1);
        }
        touchStart = null;
      }, {passive:true});

      // init
      resetGame();
      render();

      // Auto-start on click canvas for convenience
      canvas.addEventListener('click', ()=>{
        if(!running){
          running = true;
          restartTimer();
        }
      });

      // Make canvas responsive visually (keeps internal resolution)
      function resizeCanvasCss(){
        const maxW = Math.min(window.innerWidth - 60, 640);
        canvas.style.width = maxW + 'px';
        canvas.style.height = Math.round(maxW * (canvas.height/canvas.width)) + 'px';
      }
      window.addEventListener('resize', resizeCanvasCss);
      resizeCanvasCss();

    })();
  </script>
</body>
</html>
